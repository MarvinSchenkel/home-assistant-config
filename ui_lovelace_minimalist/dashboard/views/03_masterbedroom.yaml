title: "Grote slaapkamer"
path: masterbedroom
icon: "mdi:bed-king"
cards:
  - type: "vertical-stack"
    cards:
      - type: "custom:button-card"
        template: card_title
        name: Slaapkamer Marvin en Laura

      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            color_type: blank-card
          - type: custom:button-card
            template: custom_light_scene
            entity: scene.masterbedroom_lights_normal
            variables:
              ulm_card_light_color: "#d8d9e1"
              ulm_chip_icon: "ðŸ’¡"
              ulm_chip_icon_label: "Normaal"
              ulm_chip_font_color: "#212121"
          - type: custom:button-card
            template: custom_light_scene
            entity: scene.masterbedroom_lights_evening
            variables:
              ulm_card_light_color: "#d5b08d"
              ulm_chip_icon: "ðŸ’¡"
              ulm_chip_icon_label: "Avond"
              ulm_chip_font_color: "#212121"
          - type: custom:button-card
            template: custom_light_scene
            entity: scene.masterbedroom_lights_dim
            variables:
              ulm_card_light_color: "#ce944b"
              ulm_chip_icon: "ðŸ’¡"
              ulm_chip_icon_label: "Dim"
              ulm_chip_font_color: "#212121"
          - type: "custom:button-card"
            color_type: blank-card

      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: card_light
            entity: light.master_bedroom_left
            variables:
              ulm_card_light_enable_slider: true
              ulm_card_light_enable_color: true
              ulm_card_light_force_background_color: true
              ulm_card_light_name: Links
          - type: "custom:button-card"
            template: card_light
            entity: light.master_bedroom_right
            variables:
              ulm_card_light_enable_slider: true
              ulm_card_light_enable_color: true
              ulm_card_light_force_background_color: true
              ulm_card_light_name: Rechts

      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: card_light
            entity: light.master_bedroom_ceiling
            variables:
              ulm_card_light_enable_slider: true
              ulm_card_light_enable_color: true
              ulm_card_light_force_background_color: true
              ulm_card_light_name: Plafond
              ulm_card_light_enable_collapse: true
          - type: "custom:button-card"
            template: card_generic_swap
            entity: input_select.bedroom_current_cover_scene
            icon: "mdi:blinds"
            label: >
              [[[ 
                if (entity.state == "halfopen") return "Half Open";
                if (entity.state == "halfclosed") return "Half Dicht";
                if (entity.state == "closed") return "Dicht";
                if (entity.state == "ventilating") return "Ventileren";
                if (entity.state == "open") return "Open";
                if (entity.state == "ventilatingnight") return "Ventileren Nacht";
              ]]]
            tap_action:
              action: "fire-dom-event"
              browser_mod:
                command: "popup"
                title: "Luxaflex scene"
                style:
                  $: >
                    [[[
                      if (hass.themes.theme.includes("desktop")){
                        var dialog = `
                          .mdc-dialog__surface{
                            border-radius: var(--border-radius) !important;
                          }
                        `;
                      } else{
                        var dialog = "";
                      }
                      return `
                        *{
                          --secondary-background-color: none !important;
                        }
                        ${dialog}
                      `;
                    ]]]
                  hui-vertical-stack-card:
                    $: >
                      button-card {
                        align-self: center;
                        padding: 0.2em 0 2.3em 0;
                      }
                      hui-entities-card{
                        padding: 0.8em 1.4em;
                      }
                    $hui-entities-card$: >
                      ha-card{
                        box-shadow: none;
                      }
                    $hui-history-graph-card$: >
                      .content {
                        padding: 0 2.4em !important;
                      }
                      ha-card{
                        box-shadow: none;
                      }
                    $hui-glance-card$: >
                      ha-card{
                        box-shadow: none;
                      }
                    $hui-map-card:
                      $: >
                        ha-icon-button {
                          color: rgba(var(--color-blue),1);
                        }
                      $ha-map:
                        $: >
                          .leaflet-control-attribution {
                            display: none;
                          }
                          .leaflet-touch .leaflet-control-layers, .leaflet-touch .leaflet-bar {
                            border: 2px solid rgba(var(--color-blue),0.4) !important;
                          }
                          .leaflet-bar a {
                            background-color: rgba(var(--color-blue),0.2) !important;
                            color: rgba(var(--color-blue),1) !important;
                          }
                          .leaflet-bar a:first-child {
                            border-bottom: 2px solid rgba(var(--color-blue),0.4) !important;
                          }
                          .leaflet-pane.leaflet-tile-pane {
                            filter: contrast(95%);
                          }
                card:
                  type: "vertical-stack"
                  cards:
                    - type: horizontal-stack
                      cards:
                        - type: "custom:button-card"
                          template: card_script
                          variables:
                            ulm_card_script_title: Open
                            ulm_card_script_icon: "mdi:blinds-open"
                          tap_action:
                            action: call-service
                            service: scene.turn_on
                            service_data:
                              entity_id: scene.bedroom_cover_halfopen
                        - type: "custom:button-card"
                          template: card_script
                          variables:
                            ulm_card_script_title: Half-dicht
                            ulm_card_script_icon: "mdi:blinds"
                          tap_action:
                            action: call-service
                            service: scene.turn_on
                            service_data:
                              entity_id: scene.bedroom_cover_halfclosed
                    - type: horizontal-stack
                      cards:
                        - type: "custom:button-card"
                          template: card_script
                          variables:
                            ulm_card_script_title: Ventileren
                            ulm_card_script_icon: "mdi:blinds"
                          tap_action:
                            action: call-service
                            service: scene.turn_on
                            service_data:
                              entity_id: scene.bedroom_cover_ventilating
                        - type: "custom:button-card"
                          template: card_script
                          variables:
                            ulm_card_script_title: Ventileren nacht
                            ulm_card_script_icon: "mdi:blinds"
                          tap_action:
                            action: call-service
                            service: scene.turn_on
                            service_data:
                              entity_id: scene.bedroom_cover_ventilatingnight

      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: card_input_boolean
            entity: input_boolean.masterbedroom_manual_control
            name: Handmatige lampen
          - type: "custom:button-card"
            color_type: blank-card

      - type: conditional
        conditions:
          - entity: media_player.sonos_master_bedroom
            state: "playing"
        card:
          type: "custom:button-card"
          template: card_media_player
          entity: media_player.sonos_master_bedroom
          name: Sonos slaapkamer
          variables:
            ulm_card_media_player_enable_controls: true
            ulm_card_media_player_enable_volume_slider: true
            ulm_card_media_player_enable_art: false

      - type: "custom:button-card"
        template: card_title
        name: Sensoren

      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                template: card_binary_sensor_alert
                variables:
                  - ulm_card_binary_sensor_alert: true
                entity: binary_sensor.presence_master_bedroom
                show_last_changed: true
              - type: "custom:button-card"
                template: card_binary_sensor
                variables:
                  - ulm_card_binary_sensor_alert: true
                entity: binary_sensor.master_bedroom_door_open
                show_last_changed: true
          - type: "custom:button-card"
            template: card_graph
            variables:
              ulm_card_graph_color: "var(--google-blue)"
              ulm_card_graph_name: Temperatuur
              ulm_card_graph_entity: sensor.pir_master_bedroom_temperature
              ulm_card_graph_type: fill
              ulm_card_graph_hours: 24

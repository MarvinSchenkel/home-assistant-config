title: "Slaapkamer Zoey"
path: smallbedroom
icon: "mdi:koala"
cards:
  - type: "vertical-stack"
    cards:
      - type: "custom:button-card"
        template: card_title
        name: Slaapkamer Zoey

      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: card_light
            entity: light.fibaro_small_bedroom
            variables:
              ulm_card_light_enable_slider: true
              ulm_card_light_enable_color: true
              ulm_card_light_force_background_color: true
              ulm_card_light_name: Plafond
          - type: "custom:button-card"
            template: card_generic_swap
            entity: input_select.smallbedroom_current_cover_scene
            icon: "mdi:blinds"
            label: >
              [[[ 
                if (entity.state == "halfopen") return "Half Open";
                if (entity.state == "halfclosed") return "Half Dicht";
                if (entity.state == "closed") return "Dicht";
                if (entity.state == "ventilating") return "Ventileren";
                if (entity.state == "open") return "Open";
                if (entity.state == "ventilatingnight") return "Ventileren Nacht";
              ]]]
            tap_action:
              action: "fire-dom-event"
              browser_mod:
                command: "popup"
                title: "Rolgordijn scene"
                style:
                  $: >
                    [[[
                      if (hass.themes.theme.includes("desktop")){
                        var dialog = `
                          .mdc-dialog__surface{
                            border-radius: var(--border-radius) !important;
                          }
                        `;
                      } else{
                        var dialog = "";
                      }
                      return `
                        *{
                          --secondary-background-color: none !important;
                        }
                        ${dialog}
                      `;
                    ]]]
                  hui-vertical-stack-card:
                    $: >
                      button-card {
                        align-self: center;
                        padding: 0.2em 0 2.3em 0;
                      }
                      hui-entities-card{
                        padding: 0.8em 1.4em;
                      }
                    $hui-entities-card$: >
                      ha-card{
                        box-shadow: none;
                      }
                    $hui-history-graph-card$: >
                      .content {
                        padding: 0 2.4em !important;
                      }
                      ha-card{
                        box-shadow: none;
                      }
                    $hui-glance-card$: >
                      ha-card{
                        box-shadow: none;
                      }
                    $hui-map-card:
                      $: >
                        ha-icon-button {
                          color: rgba(var(--color-blue),1);
                        }
                      $ha-map:
                        $: >
                          .leaflet-control-attribution {
                            display: none;
                          }
                          .leaflet-touch .leaflet-control-layers, .leaflet-touch .leaflet-bar {
                            border: 2px solid rgba(var(--color-blue),0.4) !important;
                          }
                          .leaflet-bar a {
                            background-color: rgba(var(--color-blue),0.2) !important;
                            color: rgba(var(--color-blue),1) !important;
                          }
                          .leaflet-bar a:first-child {
                            border-bottom: 2px solid rgba(var(--color-blue),0.4) !important;
                          }
                          .leaflet-pane.leaflet-tile-pane {
                            filter: contrast(95%);
                          }
                card:
                  type: "vertical-stack"
                  cards:
                    - type: horizontal-stack
                      cards:
                        - type: "custom:button-card"
                          template: card_script
                          variables:
                            ulm_card_script_title: Open
                            ulm_card_script_icon: "mdi:blinds-open"
                          tap_action:
                            action: call-service
                            service: scene.turn_on
                            service_data:
                              entity_id: scene.smallbedroom_cover_open
                        - type: "custom:button-card"
                          template: card_script
                          variables:
                            ulm_card_script_title: Dicht
                            ulm_card_script_icon: "mdi:blinds"
                          tap_action:
                            action: call-service
                            service: scene.turn_on
                            service_data:
                              entity_id: scene.smallbedroom_cover_closed

      - type: "custom:button-card"
        template: card_title
        name: Sensoren

      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                template: card_binary_sensor_alert
                variables:
                  - ulm_card_binary_sensor_alert: true
                entity: binary_sensor.presence_small_bedroom
                show_last_changed: true
              # - type: "custom:button-card"
              #   template: card_binary_sensor
              #   variables:
              #     - ulm_card_binary_sensor_alert: true
              #   entity: binary_sensor.master_bedroom_door_open
              #   show_last_changed: true
          - type: "custom:button-card"
            template: card_graph
            variables:
              ulm_card_graph_color: "var(--google-blue)"
              ulm_card_graph_name: Temperatuur
              ulm_card_graph_entity: sensor.pir_smallbedroom_temperature
              ulm_card_graph_type: fill
              ulm_card_graph_hours: 24
